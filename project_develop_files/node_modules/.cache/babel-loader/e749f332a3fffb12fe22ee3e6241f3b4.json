{"ast":null,"code":"import _slicedToArray from\"/home/humtej1204/Frontend_practice/Desplegated_Proyects/school-page-31072023/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';/* Components */import{OpinionCard}from'./opinion-components/opinionCard';import{OpinionPagination}from'./opinion-components/opinionPagination';/* Styles */import'./opinionComponent.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function OpinionComponent(_ref){var opinions=_ref.opinions;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(3),_useState4=_slicedToArray(_useState3,2),elemPerPage=_useState4[0],setElemPerPage=_useState4[1];var refCont=useRef(null);var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),widthCont=_useState6[0],setWidthCont=_useState6[1];var maxElm=opinions.length/elemPerPage;var max=maxElm>parseInt(maxElm)?parseInt(maxElm)+1:parseInt(maxElm);useEffect(function(){function handleWindowResize(){if(refCont.current.offsetWidth<=1440)setWidthCont(refCont.current.offsetWidth);else setWidthCont(1440);setElemPerPage(parseInt(widthCont/300));}window.addEventListener('resize',handleWindowResize);handleWindowResize();return function(){window.removeEventListener('resize',handleWindowResize);};});return/*#__PURE__*/_jsxs(\"section\",{className:\"cards-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cards\",ref:refCont,children:opinions.slice((page-1)*elemPerPage,(page-1)*elemPerPage+elemPerPage).map(function(item,index){return/*#__PURE__*/_jsx(OpinionCard,{imagen:item.img,personLvl:item.personLvl,title:item.title,description:item.description},index);})}),/*#__PURE__*/_jsx(OpinionPagination,{page:page,setPage:setPage,max:max})]});}","map":{"version":3,"names":["useState","useEffect","useRef","OpinionCard","OpinionPagination","OpinionComponent","opinions","page","setPage","elemPerPage","setElemPerPage","refCont","widthCont","setWidthCont","maxElm","length","max","parseInt","handleWindowResize","current","offsetWidth","window","addEventListener","removeEventListener","slice","map","item","index","img","personLvl","title","description"],"sources":["/home/humtej1204/Frontend_practice/Desplegated_Proyects/school-page-31072023/src/pages/home/components/opinionComponent.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react'\r\n\r\n/* Components */\r\nimport { OpinionCard } from './opinion-components/opinionCard';\r\nimport { OpinionPagination } from './opinion-components/opinionPagination';\r\n\r\n/* Styles */\r\nimport './opinionComponent.scss';\r\n\r\nexport function OpinionComponent({ opinions }) {\r\n    const [page, setPage] = useState(1);\r\n    const [elemPerPage, setElemPerPage] = useState(3);\r\n    \r\n    const refCont = useRef(null);\r\n    const [widthCont, setWidthCont] = useState(0);\r\n    \r\n    const maxElm = opinions.length / elemPerPage;\r\n    const max = (maxElm > parseInt(maxElm)) ? (parseInt(maxElm) + 1) : (parseInt(maxElm));\r\n\r\n\r\n    useEffect(() => {\r\n        function handleWindowResize() {\r\n            if (refCont.current.offsetWidth <= 1440)\r\n                setWidthCont(refCont.current.offsetWidth);\r\n            else setWidthCont(1440);\r\n            setElemPerPage(parseInt(widthCont / 300));\r\n        }\r\n\r\n        window.addEventListener('resize', handleWindowResize);\r\n        \r\n        handleWindowResize();\r\n\r\n        return () => {\r\n          window.removeEventListener('resize', handleWindowResize);\r\n        };\r\n    });\r\n\r\n    return (\r\n        <section className=\"cards-container\">\r\n            <div className=\"cards\" ref={refCont}>\r\n                {opinions\r\n                .slice((page - 1) * elemPerPage, (page - 1) * elemPerPage + elemPerPage)\r\n                .map((item, index) => (\r\n                    <OpinionCard\r\n                        imagen={item.img}\r\n                        personLvl={item.personLvl}\r\n                        title={item.title}\r\n                        description={item.description}\r\n                        key={index}\r\n                    />\r\n                ))}\r\n            </div>\r\n            <OpinionPagination\r\n                page={page}\r\n                setPage={setPage}\r\n                max={max}\r\n            />\r\n        </section>\r\n    );\r\n}"],"mappings":"kKAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,MAA9B,KAA4C,OAA5C,CAEA,gBACA,OAASC,WAAT,KAA4B,kCAA5B,CACA,OAASC,iBAAT,KAAkC,wCAAlC,CAEA,YACA,MAAO,yBAAP,C,wFAEA,MAAO,SAASC,iBAAT,MAAwC,IAAZC,SAAY,MAAZA,QAAY,CAC3C,cAAwBN,QAAQ,CAAC,CAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAAsCR,QAAQ,CAAC,CAAD,CAA9C,yCAAOS,WAAP,eAAoBC,cAApB,eAEA,GAAMC,QAAO,CAAGT,MAAM,CAAC,IAAD,CAAtB,CACA,eAAkCF,QAAQ,CAAC,CAAD,CAA1C,yCAAOY,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,OAAM,CAAGR,QAAQ,CAACS,MAAT,CAAkBN,WAAjC,CACA,GAAMO,IAAG,CAAIF,MAAM,CAAGG,QAAQ,CAACH,MAAD,CAAlB,CAA+BG,QAAQ,CAACH,MAAD,CAAR,CAAmB,CAAlD,CAAwDG,QAAQ,CAACH,MAAD,CAA5E,CAGAb,SAAS,CAAC,UAAM,CACZ,QAASiB,mBAAT,EAA8B,CAC1B,GAAIP,OAAO,CAACQ,OAAR,CAAgBC,WAAhB,EAA+B,IAAnC,CACIP,YAAY,CAACF,OAAO,CAACQ,OAAR,CAAgBC,WAAjB,CAAZ,CADJ,IAEKP,aAAY,CAAC,IAAD,CAAZ,CACLH,cAAc,CAACO,QAAQ,CAACL,SAAS,CAAG,GAAb,CAAT,CAAd,CACH,CAEDS,MAAM,CAACC,gBAAP,CAAwB,QAAxB,CAAkCJ,kBAAlC,EAEAA,kBAAkB,GAElB,MAAO,WAAM,CACXG,MAAM,CAACE,mBAAP,CAA2B,QAA3B,CAAqCL,kBAArC,EACD,CAFD,CAGH,CAfQ,CAAT,CAiBA,mBACI,iBAAS,SAAS,CAAC,iBAAnB,wBACI,YAAK,SAAS,CAAC,OAAf,CAAuB,GAAG,CAAEP,OAA5B,UACKL,QAAQ,CACRkB,KADA,CACM,CAACjB,IAAI,CAAG,CAAR,EAAaE,WADnB,CACgC,CAACF,IAAI,CAAG,CAAR,EAAaE,WAAb,CAA2BA,WAD3D,EAEAgB,GAFA,CAEI,SAACC,IAAD,CAAOC,KAAP,qBACD,KAAC,WAAD,EACI,MAAM,CAAED,IAAI,CAACE,GADjB,CAEI,SAAS,CAAEF,IAAI,CAACG,SAFpB,CAGI,KAAK,CAAEH,IAAI,CAACI,KAHhB,CAII,WAAW,CAAEJ,IAAI,CAACK,WAJtB,EAKSJ,KALT,CADC,EAFJ,CADL,EADJ,cAcI,KAAC,iBAAD,EACI,IAAI,CAAEpB,IADV,CAEI,OAAO,CAAEC,OAFb,CAGI,GAAG,CAAEQ,GAHT,EAdJ,GADJ,CAsBH"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/home/humtej1204/Frontend_practice/Desplegated_Proyects/school-page-31072023/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback,useEffect,useRef}from\"react\";export function useScrollAnimation(ref,index,slidesLength){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),slideIndex=_useState2[0],setSlideIndex=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAnimating=_useState4[0],setIsAnimating=_useState4[1];var timeoutRef=useRef(null);useEffect(function(){setSlideIndex(index);},[index]);var handleScroll=useCallback(function(event){if(isAnimating)return;var newIndex=event.deltaY<0?slideIndex-1:slideIndex+1;if(newIndex<0||newIndex>slidesLength)return;setIsAnimating(true);setSlideIndex(newIndex);},[isAnimating,slideIndex,slidesLength]);useEffect(function(){var elemRef=document.getElementById(ref);var handleWheel=function handleWheel(event){handleScroll(event);};elemRef.addEventListener(\"wheel\",handleWheel);return function(){return elemRef.removeEventListener(\"wheel\",handleWheel);};},[handleScroll,ref]);useEffect(function(){timeoutRef.current=setTimeout(function(){setIsAnimating(false);},1000);return function(){return clearTimeout(timeoutRef.current);};},[slideIndex]);return[slideIndex];}","map":{"version":3,"names":["useState","useCallback","useEffect","useRef","useScrollAnimation","ref","index","slidesLength","slideIndex","setSlideIndex","isAnimating","setIsAnimating","timeoutRef","handleScroll","event","newIndex","deltaY","elemRef","document","getElementById","handleWheel","addEventListener","removeEventListener","current","setTimeout","clearTimeout"],"sources":["/home/humtej1204/Frontend_practice/Desplegated_Proyects/school-page-31072023/src/util/useScrollAnimation.jsx"],"sourcesContent":["import {\n  useState, useCallback,\n  useEffect, useRef\n} from \"react\";\n\nexport function useScrollAnimation(ref, index, slidesLength) {\n  const [slideIndex, setSlideIndex] = useState(0);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const timeoutRef = useRef(null);\n\n  useEffect(() => {\n    setSlideIndex(index);\n  }, [index]);\n\n  const handleScroll = useCallback((event) => {\n    if (isAnimating) return;\n\n    const newIndex = (event.deltaY < 0) ? (slideIndex - 1) : (slideIndex + 1);\n\n    if (newIndex < 0 || newIndex > slidesLength) return;\n\n    setIsAnimating(true);\n    setSlideIndex(newIndex);\n  }, [isAnimating, slideIndex, slidesLength]);\n\n  useEffect(() => {\n    const elemRef = document.getElementById(ref);\n    const handleWheel = (event) => {\n      handleScroll(event);\n    };\n\n    elemRef.addEventListener(\"wheel\", handleWheel);\n\n    return (() => elemRef.removeEventListener(\"wheel\", handleWheel));\n  }, [handleScroll, ref]);\n\n  useEffect(() => {\n    timeoutRef.current = setTimeout(() => {\n      setIsAnimating(false);\n    }, 1000);\n\n    return (() => clearTimeout(timeoutRef.current));\n  }, [slideIndex]);\n\n  return ([slideIndex]);\n}"],"mappings":"kKAAA,OACEA,QADF,CACYC,WADZ,CAEEC,SAFF,CAEaC,MAFb,KAGO,OAHP,CAKA,MAAO,SAASC,mBAAT,CAA4BC,GAA5B,CAAiCC,KAAjC,CAAwCC,YAAxC,CAAsD,CAC3D,cAAoCP,QAAQ,CAAC,CAAD,CAA5C,wCAAOQ,UAAP,eAAmBC,aAAnB,eACA,eAAsCT,QAAQ,CAAC,KAAD,CAA9C,yCAAOU,WAAP,eAAoBC,cAApB,eACA,GAAMC,WAAU,CAAGT,MAAM,CAAC,IAAD,CAAzB,CAEAD,SAAS,CAAC,UAAM,CACdO,aAAa,CAACH,KAAD,CAAb,CACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,GAAMO,aAAY,CAAGZ,WAAW,CAAC,SAACa,KAAD,CAAW,CAC1C,GAAIJ,WAAJ,CAAiB,OAEjB,GAAMK,SAAQ,CAAID,KAAK,CAACE,MAAN,CAAe,CAAhB,CAAsBR,UAAU,CAAG,CAAnC,CAAyCA,UAAU,CAAG,CAAvE,CAEA,GAAIO,QAAQ,CAAG,CAAX,EAAgBA,QAAQ,CAAGR,YAA/B,CAA6C,OAE7CI,cAAc,CAAC,IAAD,CAAd,CACAF,aAAa,CAACM,QAAD,CAAb,CACD,CAT+B,CAS7B,CAACL,WAAD,CAAcF,UAAd,CAA0BD,YAA1B,CAT6B,CAAhC,CAWAL,SAAS,CAAC,UAAM,CACd,GAAMe,QAAO,CAAGC,QAAQ,CAACC,cAAT,CAAwBd,GAAxB,CAAhB,CACA,GAAMe,YAAW,CAAG,QAAdA,YAAc,CAACN,KAAD,CAAW,CAC7BD,YAAY,CAACC,KAAD,CAAZ,CACD,CAFD,CAIAG,OAAO,CAACI,gBAAR,CAAyB,OAAzB,CAAkCD,WAAlC,EAEA,MAAQ,kBAAMH,QAAO,CAACK,mBAAR,CAA4B,OAA5B,CAAqCF,WAArC,CAAN,EAAR,CACD,CATQ,CASN,CAACP,YAAD,CAAeR,GAAf,CATM,CAAT,CAWAH,SAAS,CAAC,UAAM,CACdU,UAAU,CAACW,OAAX,CAAqBC,UAAU,CAAC,UAAM,CACpCb,cAAc,CAAC,KAAD,CAAd,CACD,CAF8B,CAE5B,IAF4B,CAA/B,CAIA,MAAQ,kBAAMc,aAAY,CAACb,UAAU,CAACW,OAAZ,CAAlB,EAAR,CACD,CANQ,CAMN,CAACf,UAAD,CANM,CAAT,CAQA,MAAQ,CAACA,UAAD,CAAR,CACD"},"metadata":{},"sourceType":"module"}
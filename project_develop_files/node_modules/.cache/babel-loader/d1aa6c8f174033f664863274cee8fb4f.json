{"ast":null,"code":"import _slicedToArray from\"/home/humtej1204/Frontend_practice/Desplegated_Proyects/school-page-31072023/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState,useEffect}from\"react\";/* Style */import'./ComponentSlider.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function ComponentSlider(_ref){var data=_ref.data,RefComponent=_ref.RefComponent,_ref$elmMaxSize=_ref.elmMaxSize,elmMaxSize=_ref$elmMaxSize===void 0?320:_ref$elmMaxSize;var sliderContRef=useRef();var sliderRef=useRef();var _useState=useState(300),_useState2=_slicedToArray(_useState,2),contSize=_useState2[0],setContSize=_useState2[1];var _useState3=useState(300),_useState4=_slicedToArray(_useState3,2),elmSize=_useState4[0],setElmSize=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),elmPerPage=_useState6[0],setElmPerPage=_useState6[1];var _useState7=useState(20),_useState8=_slicedToArray(_useState7,2),elmSep=_useState8[0],setElmSep=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),moreCard=_useState10[0],setMoreCard=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),elemsPaginator=_useState12[0],setElemsPaginator=_useState12[1];var goToCardIndex=function goToCardIndex(index){setMoreCard(index);sliderRef.current.scrollTo({top:0,left:(elmSize+elmSep)*index,behavior:'smooth'});};var handleContainerScroll=function handleContainerScroll(){var xPosition=sliderRef.current.scrollLeft;var index=Math.round(xPosition/(elmSize+elmSep));setMoreCard(index);};useEffect(function(){var updateElemsPaginator=function updateElemsPaginator(elmPerPage){if(elmPerPage>1)setElemsPaginator(data.length-1);else setElemsPaginator(data.length);};var updateSliderData=function updateSliderData(){var elmPerPage=0;var contSize=sliderContRef.current.offsetWidth;var elmSize=contSize>=elmMaxSize?elmMaxSize:300;var elmSep=20;elmPerPage=parseInt(contSize/elmSize);if(elmPerPage>=data.length)elmPerPage=data.length;elmSep=contSize-elmPerPage*elmSize;if(!(elmSep>0&&elmSep>(elmPerPage-1)*20)){elmPerPage=elmPerPage-1;elmSep=contSize-elmPerPage*elmSize;}if(elmPerPage>1)elmSep=elmSep/(elmPerPage-1);if(elmSep>50)elmSep=50;contSize=elmPerPage*(elmSize+elmSep)-elmSep;setContSize(contSize);setElmSize(elmSize);setElmSep(elmSep);setElmPerPage(elmPerPage);updateElemsPaginator(elmPerPage);};updateSliderData();window.addEventListener(\"resize\",updateSliderData);return function(){window.removeEventListener(\"resize\",updateSliderData);};});return/*#__PURE__*/_jsxs(\"div\",{id:\"cardSliderContainer\",ref:sliderContRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"slider_container\",onScroll:function onScroll(){return handleContainerScroll();},ref:sliderRef,style:{width:\"\".concat(contSize?contSize+'px':'100%')},children:/*#__PURE__*/_jsx(\"div\",{className:\"cards_container\",style:{gap:\"\".concat(elmSep,\"px\")},children:data===null||data===void 0?void 0:data.map(function(elem,index){return/*#__PURE__*/_jsx(\"div\",{className:\"card_component\",style:{width:\"\".concat(elmSize,\"px\")},children:/*#__PURE__*/_jsx(RefComponent,{data:elem})},\"RefComponent_\"+index);})})}),elmPerPage<data.length&&/*#__PURE__*/_jsx(\"div\",{className:\"cardSliderIndicator\",children:data===null||data===void 0?void 0:data.slice(0,elemsPaginator).map(function(elem,index){return/*#__PURE__*/_jsx(\"div\",{className:\"slider_indicator \".concat(index===moreCard?'indicator_active':''),onClick:function onClick(){return goToCardIndex(index);},children:\"\\xA0\"},index);})})]});}","map":{"version":3,"names":["React","useRef","useState","useEffect","ComponentSlider","data","RefComponent","elmMaxSize","sliderContRef","sliderRef","contSize","setContSize","elmSize","setElmSize","elmPerPage","setElmPerPage","elmSep","setElmSep","moreCard","setMoreCard","elemsPaginator","setElemsPaginator","goToCardIndex","index","current","scrollTo","top","left","behavior","handleContainerScroll","xPosition","scrollLeft","Math","round","updateElemsPaginator","length","updateSliderData","offsetWidth","parseInt","window","addEventListener","removeEventListener","width","gap","map","elem","slice"],"sources":["/home/humtej1204/Frontend_practice/Desplegated_Proyects/school-page-31072023/src/components/componentSlider/ComponentSlider.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\n\n/* Style */\nimport './ComponentSlider.scss';\n\nexport function ComponentSlider({data, RefComponent, elmMaxSize = 320}) {\n    const sliderContRef = useRef();\n    const sliderRef = useRef();\n    const [contSize, setContSize] = useState(300)\n    const [elmSize, setElmSize] = useState(300)\n    const [elmPerPage, setElmPerPage] = useState(1)\n    const [elmSep, setElmSep] = useState(20)\n    const [moreCard, setMoreCard] = useState(0);\n    const [elemsPaginator, setElemsPaginator] = useState(0);\n\n    const goToCardIndex = (index) => {\n        setMoreCard(index);\n        \n        sliderRef.current.scrollTo({\n            top: 0,\n            left: (elmSize + elmSep) * index,\n            behavior: 'smooth'\n        });\n    }\n\n    const handleContainerScroll = () => {\n        const xPosition = sliderRef.current.scrollLeft;\n        const index = Math.round(xPosition / (elmSize + elmSep));\n\n        setMoreCard(index);\n    }\n\n    useEffect(() => {\n        const updateElemsPaginator = (elmPerPage) => {\n            if (elmPerPage > 1) setElemsPaginator(data.length - 1);\n            else setElemsPaginator(data.length);\n        }\n\n        const updateSliderData = () => {\n            let elmPerPage = 0;\n            let contSize = sliderContRef.current.offsetWidth;\n            let elmSize = (contSize >= elmMaxSize)?(elmMaxSize):(300);\n            let elmSep = 20;\n    \n            elmPerPage = parseInt(contSize / elmSize);\n            if (elmPerPage >= data.length) elmPerPage = data.length;\n\n            elmSep = (contSize - (elmPerPage * elmSize));\n    \n            if (!(elmSep > 0 && elmSep > (elmPerPage - 1) * 20)) {\n                elmPerPage = elmPerPage - 1;\n                elmSep = (contSize - (elmPerPage * elmSize));\n            }\n    \n            if (elmPerPage > 1)\n                elmSep = elmSep / (elmPerPage - 1);\n    \n            if (elmSep > 50) elmSep = 50;\n    \n            contSize = (elmPerPage * (elmSize + elmSep)) - elmSep;\n    \n            setContSize(contSize);\n            setElmSize(elmSize);\n            setElmSep(elmSep);\n            setElmPerPage(elmPerPage);\n            updateElemsPaginator(elmPerPage);\n        };\n    \n        updateSliderData();\n        window.addEventListener(\"resize\", updateSliderData);\n    \n        return () => {\n          window.removeEventListener(\"resize\", updateSliderData);\n        };\n    })\n\n    return (\n        <div id=\"cardSliderContainer\" ref={sliderContRef}>\n            <div className=\"slider_container\"\n            onScroll={() => handleContainerScroll()}\n            ref={sliderRef}\n            style={{width: `${(contSize)?(contSize + 'px'):('100%')}`}}>\n                <div className=\"cards_container\"\n                style={{gap: `${elmSep}px`}}>\n                    {data?.map((elem, index) => (\n                        <div className=\"card_component\"\n                        style={{width: `${elmSize}px`}}\n                        key={\"RefComponent_\" + index}>\n                            <RefComponent data={elem}/>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            {(elmPerPage < data.length) && <div className=\"cardSliderIndicator\">\n                {data?.slice(0, elemsPaginator)\n                .map((elem, index) => (\n                    <div className={`slider_indicator ${(index === moreCard)?('indicator_active'):('')}`}\n                    onClick={() => goToCardIndex(index)}\n                    key={index}>&nbsp;</div>\n                ))}\n            </div>}\n        </div>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}
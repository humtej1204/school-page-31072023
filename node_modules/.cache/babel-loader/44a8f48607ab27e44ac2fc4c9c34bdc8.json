{"ast":null,"code":"import _slicedToArray from\"/home/humtej1204/Frontend_practice/Desplegated_Proyects/school-page-31072023/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback,useEffect,useRef}from\"react\";export function useSwipeAnimation(ref,index,slidesLength){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),slideIndex=_useState2[0],setSlideIndex=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAnimating=_useState4[0],setIsAnimating=_useState4[1];var touchStartRef=useRef(null);var timeoutRef=useRef(null);useEffect(function(){setSlideIndex(index);},[index]);var handleSwipeStart=useCallback(function(event){touchStartRef.current=event.touches[0].clientY;},[]);var handleSwipeEnd=useCallback(function(event){if(isAnimating||touchStartRef.current===null)return;var touchEnd=event.changedTouches[0].clientY;var touchDiff=touchStartRef.current-touchEnd;var sensitivity=100;if(touchDiff>sensitivity&&slideIndex<slidesLength){setIsAnimating(true);setSlideIndex(slideIndex+1);}else if(touchDiff<-sensitivity&&slideIndex>0){setIsAnimating(true);setSlideIndex(slideIndex-1);}touchStartRef.current=null;},[isAnimating,slideIndex,slidesLength]);useEffect(function(){var elemRef=document.getElementById(ref);var handleTouchStart=function handleTouchStart(event){handleSwipeStart(event);};var handleTouchEnd=function handleTouchEnd(event){handleSwipeEnd(event);};elemRef.addEventListener(\"touchstart\",handleTouchStart);elemRef.addEventListener(\"touchend\",handleTouchEnd);return function(){elemRef.removeEventListener(\"touchstart\",handleTouchStart);elemRef.removeEventListener(\"touchend\",handleTouchEnd);};},[handleSwipeStart,handleSwipeEnd,ref]);useEffect(function(){timeoutRef.current=setTimeout(function(){setIsAnimating(false);},1000);return function(){return clearTimeout(timeoutRef.current);};},[slideIndex]);return[slideIndex];}","map":{"version":3,"names":["useState","useCallback","useEffect","useRef","useSwipeAnimation","ref","index","slidesLength","slideIndex","setSlideIndex","isAnimating","setIsAnimating","touchStartRef","timeoutRef","handleSwipeStart","event","current","touches","clientY","handleSwipeEnd","touchEnd","changedTouches","touchDiff","sensitivity","elemRef","document","getElementById","handleTouchStart","handleTouchEnd","addEventListener","removeEventListener","setTimeout","clearTimeout"],"sources":["/home/humtej1204/Frontend_practice/Desplegated_Proyects/school-page-31072023/src/util/useSwipeAnimation.jsx"],"sourcesContent":["import {\n  useState, useCallback,\n  useEffect, useRef\n} from \"react\";\n\nexport function useSwipeAnimation(ref, index, slidesLength) {\n  const [slideIndex, setSlideIndex] = useState(0);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const touchStartRef = useRef(null);\n  const timeoutRef = useRef(null);\n\n  useEffect(() => {\n    setSlideIndex(index);\n  }, [index]);\n\n  const handleSwipeStart = useCallback((event) => {\n    touchStartRef.current = event.touches[0].clientY;\n  }, []);\n\n  const handleSwipeEnd = useCallback((event) => {\n    if (isAnimating || touchStartRef.current === null) return;\n  \n    const touchEnd = event.changedTouches[0].clientY;\n    const touchDiff = touchStartRef.current - touchEnd;\n    const sensitivity = 100;\n  \n    if (touchDiff > sensitivity && slideIndex < slidesLength) {\n      setIsAnimating(true);\n      setSlideIndex(slideIndex + 1);\n    } else if (touchDiff < -sensitivity && slideIndex > 0) {\n      setIsAnimating(true);\n      setSlideIndex(slideIndex - 1);\n    }\n  \n    touchStartRef.current = null;\n  }, [isAnimating, slideIndex, slidesLength]);\n\n  useEffect(() => {\n    const elemRef = document.getElementById(ref);\n    const handleTouchStart = (event) => {\n      handleSwipeStart(event);\n    };\n\n    const handleTouchEnd = (event) => {\n      handleSwipeEnd(event);\n    };\n\n    elemRef.addEventListener(\"touchstart\", handleTouchStart);\n    elemRef.addEventListener(\"touchend\", handleTouchEnd);\n\n    return () => {\n      elemRef.removeEventListener(\"touchstart\", handleTouchStart);\n      elemRef.removeEventListener(\"touchend\", handleTouchEnd);\n    };\n  }, [handleSwipeStart, handleSwipeEnd, ref]);\n\n  useEffect(() => {\n    timeoutRef.current = setTimeout(() => {\n      setIsAnimating(false);\n    }, 1000);\n\n    return () => clearTimeout(timeoutRef.current);\n  }, [slideIndex]);\n\n  return ([slideIndex]);\n}"],"mappings":"kKAAA,OACEA,QADF,CACYC,WADZ,CAEEC,SAFF,CAEaC,MAFb,KAGO,OAHP,CAKA,MAAO,SAASC,kBAAT,CAA2BC,GAA3B,CAAgCC,KAAhC,CAAuCC,YAAvC,CAAqD,CAC1D,cAAoCP,QAAQ,CAAC,CAAD,CAA5C,wCAAOQ,UAAP,eAAmBC,aAAnB,eACA,eAAsCT,QAAQ,CAAC,KAAD,CAA9C,yCAAOU,WAAP,eAAoBC,cAApB,eACA,GAAMC,cAAa,CAAGT,MAAM,CAAC,IAAD,CAA5B,CACA,GAAMU,WAAU,CAAGV,MAAM,CAAC,IAAD,CAAzB,CAEAD,SAAS,CAAC,UAAM,CACdO,aAAa,CAACH,KAAD,CAAb,CACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,GAAMQ,iBAAgB,CAAGb,WAAW,CAAC,SAACc,KAAD,CAAW,CAC9CH,aAAa,CAACI,OAAd,CAAwBD,KAAK,CAACE,OAAN,CAAc,CAAd,EAAiBC,OAAzC,CACD,CAFmC,CAEjC,EAFiC,CAApC,CAIA,GAAMC,eAAc,CAAGlB,WAAW,CAAC,SAACc,KAAD,CAAW,CAC5C,GAAIL,WAAW,EAAIE,aAAa,CAACI,OAAd,GAA0B,IAA7C,CAAmD,OAEnD,GAAMI,SAAQ,CAAGL,KAAK,CAACM,cAAN,CAAqB,CAArB,EAAwBH,OAAzC,CACA,GAAMI,UAAS,CAAGV,aAAa,CAACI,OAAd,CAAwBI,QAA1C,CACA,GAAMG,YAAW,CAAG,GAApB,CAEA,GAAID,SAAS,CAAGC,WAAZ,EAA2Bf,UAAU,CAAGD,YAA5C,CAA0D,CACxDI,cAAc,CAAC,IAAD,CAAd,CACAF,aAAa,CAACD,UAAU,CAAG,CAAd,CAAb,CACD,CAHD,IAGO,IAAIc,SAAS,CAAG,CAACC,WAAb,EAA4Bf,UAAU,CAAG,CAA7C,CAAgD,CACrDG,cAAc,CAAC,IAAD,CAAd,CACAF,aAAa,CAACD,UAAU,CAAG,CAAd,CAAb,CACD,CAEDI,aAAa,CAACI,OAAd,CAAwB,IAAxB,CACD,CAhBiC,CAgB/B,CAACN,WAAD,CAAcF,UAAd,CAA0BD,YAA1B,CAhB+B,CAAlC,CAkBAL,SAAS,CAAC,UAAM,CACd,GAAMsB,QAAO,CAAGC,QAAQ,CAACC,cAAT,CAAwBrB,GAAxB,CAAhB,CACA,GAAMsB,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACZ,KAAD,CAAW,CAClCD,gBAAgB,CAACC,KAAD,CAAhB,CACD,CAFD,CAIA,GAAMa,eAAc,CAAG,QAAjBA,eAAiB,CAACb,KAAD,CAAW,CAChCI,cAAc,CAACJ,KAAD,CAAd,CACD,CAFD,CAIAS,OAAO,CAACK,gBAAR,CAAyB,YAAzB,CAAuCF,gBAAvC,EACAH,OAAO,CAACK,gBAAR,CAAyB,UAAzB,CAAqCD,cAArC,EAEA,MAAO,WAAM,CACXJ,OAAO,CAACM,mBAAR,CAA4B,YAA5B,CAA0CH,gBAA1C,EACAH,OAAO,CAACM,mBAAR,CAA4B,UAA5B,CAAwCF,cAAxC,EACD,CAHD,CAID,CAjBQ,CAiBN,CAACd,gBAAD,CAAmBK,cAAnB,CAAmCd,GAAnC,CAjBM,CAAT,CAmBAH,SAAS,CAAC,UAAM,CACdW,UAAU,CAACG,OAAX,CAAqBe,UAAU,CAAC,UAAM,CACpCpB,cAAc,CAAC,KAAD,CAAd,CACD,CAF8B,CAE5B,IAF4B,CAA/B,CAIA,MAAO,kBAAMqB,aAAY,CAACnB,UAAU,CAACG,OAAZ,CAAlB,EAAP,CACD,CANQ,CAMN,CAACR,UAAD,CANM,CAAT,CAQA,MAAQ,CAACA,UAAD,CAAR,CACD"},"metadata":{},"sourceType":"module"}